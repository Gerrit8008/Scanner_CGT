<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% if client_branding %}
    <title>{{ client_branding.business_name }} Security Assessment</title>
    <!-- Custom Favicon -->
    {% if client_branding.favicon_path %}
    <link rel="icon" type="image/png" sizes="32x32" href="{{ client_branding.favicon_path }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ client_branding.favicon_path }}">
    <link rel="shortcut icon" href="{{ client_branding.favicon_path }}">
    {% else %}
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon.png">
    <link rel="shortcut icon" href="/static/images/favicon.png">
    {% endif %}
    {% else %}
    <title>Start Security Scan - Vulnerability Scanner</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon.png">
    <link rel="shortcut icon" href="/static/images/favicon.png">
    {% endif %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    <style>
        /* White label branding styles */
        {% if client_branding %}
        :root {
            --primary-color: {{ client_branding.primary_color }};
            --secondary-color: {{ client_branding.secondary_color }};
            --button-color: {{ client_branding.button_color }};
        }
        
        .header {
            background: linear-gradient(135deg, {{ client_branding.primary_color }}, {{ client_branding.secondary_color }});
        }
        
        .btn-primary {
            background: linear-gradient(135deg, {{ client_branding.button_color }}, {{ client_branding.secondary_color }});
            border-color: {{ client_branding.button_color }};
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, {{ client_branding.button_color }}dd, {{ client_branding.secondary_color }}dd);
            transform: translateY(-2px);
        }
        
        .card-header {
            background: linear-gradient(135deg, {{ client_branding.primary_color }}22, {{ client_branding.secondary_color }}22);
            border-bottom: 2px solid {{ client_branding.primary_color }};
        }
        
        .step-bullet.active {
            background-color: {{ client_branding.primary_color }};
            border-color: {{ client_branding.primary_color }};
        }
        
        .step-bullet.completed {
            background-color: {{ client_branding.secondary_color }};
            border-color: {{ client_branding.secondary_color }};
        }
        
        .form-control:focus {
            border-color: {{ client_branding.primary_color }};
            box-shadow: 0 0 0 0.2rem {{ client_branding.primary_color }}33;
        }
        
        .alert-info {
            background-color: {{ client_branding.primary_color }}15;
            border-color: {{ client_branding.primary_color }};
            color: {{ client_branding.primary_color }};
        }
        {% endif %}
        
        /* Additional styles to complement styles.css */
        .scan-step {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .scan-step.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .form-step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .form-step-indicator:before {
            content: "";
            position: absolute;
            top: 24px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--border-color);
            z-index: 1;
        }
        
        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step-bullet {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #fff;
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }
        
        .step-bullet.active {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
            box-shadow: 0 0 0 5px rgba(255, 105, 0, 0.2);
        }
        
        .step-bullet.completed {
            background-color: var(--low-color);
            border-color: var(--low-color);
            color: white;
        }
        
        .step-label {
            text-align: center;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 0.75rem;
            color: var(--secondary-color);
        }
        
        .step-bullet.active + .step-label {
            color: var(--primary-color);
        }
        
        .step-bullet.completed + .step-label {
            color: var(--low-color);
        }
        
        .domain-card {
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .domain-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        /* Progress animation */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 105, 0, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 105, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 105, 0, 0); }
        }
        
        .progress-fill {
            transition: width 0.5s ease-out;
            background-color: var(--primary-color);
            color: white;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            border-radius: 5px;
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Success animation */
        @keyframes checkmark {
            0% { stroke-dashoffset: 100; }
            100% { stroke-dashoffset: 0; }
        }
        
        .checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: block;
            stroke-width: 6;
            stroke: var(--low-color);
            stroke-miterlimit: 10;
            box-shadow: 0 0 0 rgba(40, 167, 69, 0.4);
            animation: pulse-green 2s infinite;
            margin: 0 auto;
        }
        
        .checkmark-circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 6;
            stroke-miterlimit: 10;
            stroke: var(--low-color);
            fill: none;
            animation: checkmark 0.8s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }
        
        .checkmark-check {
            transform-origin: 50% 50%;
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: checkmark 0.8s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }
        
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
        }
        
        .form-label.required:after {
            content: '*';
            color: var(--danger-color);
            margin-left: 0.25rem;
        }
        
        /* Progress step styles */
        .progress-step {
            margin-bottom: 2rem;
            padding: 1.5rem;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            background: #fff;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 30px;
            background-color: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin: 1rem 0;
            position: relative;
        }
        
        .progress-step-status {
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        .progress-step-status.status-in-progress {
            color: #0066cc;
        }
        
        .progress-step-status.status-complete {
            color: #28a745;
        }
    </style>
</head>
<body>
    <div class="header fade-in">
        <div class="container">
            {% if client_branding and (client_branding.logo_url or client_branding.logo_path) %}
            <img src="{{ client_branding.logo_url or client_branding.logo_path }}" alt="{{ client_branding.business_name }} Logo" class="logo" 
                 onerror="this.style.display='none';">
            {% else %}
            <img src="/static/images/logo.png" alt="Company Logo" class="logo" 
                 onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0ZXh0IHg9IjEwIiB5PSIzMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSI+Q2VudHJhbCBHZW9yZ2lhPC90ZXh0Pjx0ZXh0IHg9IjEwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSJ3aGl0ZSI+VGVjaG5vbG9neTwvdGV4dD48L3N2Zz4='; this.style.maxWidth='180px';">
            {% endif %}
            
            {% if client_branding %}
            <h1>{{ client_branding.business_name }} Security Assessment</h1>
            <p>{{ client_branding.email_intro or 'Complete the form below to begin your comprehensive security assessment' }}</p>
            {% else %}
            <h1>Start Security Scan</h1>
            <p>Complete the form below to begin your vulnerability assessment</p>
            {% endif %}
        </div>
    </div>
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card fade-in">
                    <div class="card-header">
                        <i class="bi bi-shield"></i>
                        {% if client_branding %}
                        <h2 class="mb-0">{{ client_branding.business_name }} Security Assessment</h2>
                        {% else %}
                        <h2 class="mb-0">Security Assessment Form</h2>
                        {% endif %}
                    </div>
                    <div class="card-body">
                        
                        <!-- Multi-step form indicator -->
                        <div class="form-step-indicator">
                            <div class="step-item">
                                <div class="step-bullet active" id="step1-bullet">1</div>
                                <div class="step-label">Contact Info</div>
                            </div>
                            <div class="step-item">
                                <div class="step-bullet" id="step2-bullet">2</div>
                                <div class="step-label">Company Details</div>
                            </div>
                            <div class="step-item">
                                <div class="step-bullet" id="step3-bullet">3</div>
                                <div class="step-label">Scan Options</div>
                            </div>
                            <div class="step-item">
                                <div class="step-bullet" id="step4-bullet">4</div>
                                <div class="step-label">Confirmation</div>
                            </div>
                        </div>
                        
                        <form id="scanForm" method="post" action="/scan">
                            <!-- Hidden fields for client tracking -->
                            {% if client_id %}
                            <input type="hidden" name="client_id" value="{{ client_id }}">
                            {% endif %}
                            {% if scanner_id %}
                            <input type="hidden" name="scanner_id" value="{{ scanner_id }}">
                            {% endif %}
                            
                            <!-- Step 1: Contact Information -->
                            <div class="scan-step active" id="step1">
                                <h3 class="section-title"><i class="bi bi-person-lines-fill me-2"></i>Contact Information</h3>
                                <p class="mb-4">Please provide your contact details so we can send you the scan results.</p>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6 mb-3">
                                        <label for="name" class="form-label required">Full Name</label>
                                        <input type="text" class="form-control" id="name" name="name" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="company" class="form-label required">Company Name</label>
                                        <input type="text" class="form-control" id="company" name="company" required>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label required">Email Address</label>
                                        <input type="email" class="form-control" id="email" name="email" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="phone" class="form-label">Phone Number</label>
                                        <input type="tel" class="form-control" id="phone" name="phone">
                                    </div>
                                </div>
                                
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="privacy-consent" name="privacy_consent" required>
                                    <label class="form-check-label" for="privacy-consent">
                                        I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">privacy policy</a> and consent to being contacted about my scan results.
                                    </label>
                                </div>
                                
                                <div class="text-end">
                                    <button type="button" class="btn btn-primary" id="step1Next">
                                        Next <i class="bi bi-arrow-right ms-1"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Step 2: Company Details -->
                            <div class="scan-step" id="step2">
                                <h3 class="section-title"><i class="bi bi-building me-2"></i>Company Details</h3>
                                <p class="mb-4">These details help us customize your vulnerability assessment.</p>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6 mb-3">
                                        <label for="industry" class="form-label required">Industry</label>
                                        <select class="form-select" id="industry" name="industry" required>
                                            <option value="" selected disabled>Select your industry</option>
                                            <option value="healthcare">Healthcare</option>
                                            <option value="finance">Finance & Banking</option>
                                            <option value="retail">Retail & E-commerce</option>
                                            <option value="manufacturing">Manufacturing</option>
                                            <option value="education">Education</option>
                                            <option value="government">Government</option>
                                            <option value="technology">Technology</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="company-size" class="form-label required">Company Size</label>
                                        <select class="form-select" id="company-size" name="company_size" required>
                                            <option value="" selected disabled>Select company size</option>
                                            <option value="1-10">1-10 employees</option>
                                            <option value="11-50">11-50 employees</option>
                                            <option value="51-200">51-200 employees</option>
                                            <option value="201-500">201-500 employees</option>
                                            <option value="501+">501+ employees</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="company-website" class="form-label required">Company Website</label>
                                    <div class="input-group">
                                        <span class="input-group-text">https://</span>
                                        <input type="text" class="form-control" id="company-website" name="company_website" placeholder="www.example.com" required>
                                    </div>
                                    <div class="form-text">This is the primary domain we'll scan for vulnerabilities.</div>
                                </div>
                                
                                <div class="text-end">
                                    <button type="button" class="btn btn-secondary me-2" id="step2Prev">
                                        <i class="bi bi-arrow-left me-1"></i> Previous
                                    </button>
                                    <button type="button" class="btn btn-primary" id="step2Next">
                                        Next <i class="bi bi-arrow-right ms-1"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Step 3: Scan Options -->
                            <div class="scan-step" id="step3">
                                <h3 class="section-title"><i class="bi bi-gear me-2"></i>Scan Options</h3>
                                <p class="mb-4">Select the types of vulnerabilities you want to scan for.</p>
                                
                                <div class="summary-card mb-4">
                                    <div class="row mb-4">
                                        <div class="col-md-6 mb-3">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="network-scan" name="scan_options[]" value="network" checked>
                                                <label class="form-check-label" for="network-scan">
                                                    <strong>Network Vulnerabilities</strong>
                                                </label>
                                            </div>
                                            <p class="text-muted small ms-4">Open ports, misconfigured services, outdated protocols</p>
                                        </div>
                                        
                                        <div class="col-md-6 mb-3">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="web-scan" name="scan_options[]" value="web" checked>
                                                <label class="form-check-label" for="web-scan">
                                                    <strong>Web Application Vulnerabilities</strong>
                                                </label>
                                            </div>
                                            <p class="text-muted small ms-4">XSS, SQL injection, CSRF, insecure configurations</p>
                                        </div>
                                    </div>
                                    
                                    <div class="row mb-4">
                                        <div class="col-md-6 mb-3">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="ssl-scan" name="scan_options[]" value="ssl" checked>
                                                <label class="form-check-label" for="ssl-scan">
                                                    <strong>SSL/TLS Configuration</strong>
                                                </label>
                                            </div>
                                            <p class="text-muted small ms-4">Certificate issues, outdated protocols, cipher weaknesses</p>
                                        </div>
                                        
                                        <div class="col-md-6 mb-3">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="dns-scan" name="scan_options[]" value="dns" checked>
                                                <label class="form-check-label" for="dns-scan">
                                                    <strong>DNS Security Issues</strong>
                                                </label>
                                            </div>
                                            <p class="text-muted small ms-4">DNSSEC, zone transfer vulnerabilities, cache poisoning</p>
                                        </div>
                                    </div>
                                </div>
                                
                                
                                <div class="text-end">
                                    <button type="button" class="btn btn-secondary me-2" id="step3Prev">
                                        <i class="bi bi-arrow-left me-1"></i> Previous
                                    </button>
                                    <button type="button" class="btn btn-primary" id="step3Next">
                                        Next <i class="bi bi-arrow-right ms-1"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Step 4: Confirmation -->
                            <div class="scan-step" id="step4">
                                <h3 class="section-title"><i class="bi bi-check-circle me-2"></i>Confirm and Start Scan</h3>
                                <p class="mb-4">Please review your information and confirm to start the scan.</p>
                                
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle me-2"></i>
                                    <strong>Important:</strong> The scan may take 5-10 minutes to complete. Results will be sent to your email once finished.
                                </div>
                                
                                <div class="card mb-4">
                                    <div class="card-header bg-light">
                                        <h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Scan Summary</h5>
                                    </div>
                                    <div class="card-body">
                                        <table class="table table-borderless">
                                            <tr>
                                                <th width="30%">Name:</th>
                                                <td id="summary-name"></td>
                                            </tr>
                                            <tr>
                                                <th>Company:</th>
                                                <td id="summary-company"></td>
                                            </tr>
                                            <tr>
                                                <th>Website:</th>
                                                <td id="summary-website"></td>
                                            </tr>
                                            <tr>
                                                <th>Email:</th>
                                                <td id="summary-email"></td>
                                            </tr>
                                            <tr>
                                                <th>Selected Scans:</th>
                                                <td id="summary-scans"></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="terms-consent" name="terms_consent" required>
                                    <label class="form-check-label" for="terms-consent">
                                        I understand that this scan will analyze my website for security vulnerabilities and I have the authority to authorize this scan.
                                    </label>
                                </div>
                                
                                <div class="text-end">
                                    <button type="button" class="btn btn-secondary me-2" id="step4Prev">
                                        <i class="bi bi-arrow-left me-1"></i> Previous
                                    </button>
                                    <button type="submit" class="btn btn-primary btn-lg">
                                        <i class="bi bi-shield-check me-2"></i> Start Security Scan
                                    </button>
                                </div>
                            </div>
                        </form>
                        
                        <!-- Scan Progress (initially hidden) -->
                        <div id="scanProgress" style="display: none;">
                            <h3 class="section-title mb-4"><i class="bi bi-activity me-2"></i>Scan in Progress</h3>
                            
                            <div class="text-center mb-5">
                                <div class="spinner-border text-primary pulse-animation" role="status" style="width: 3rem; height: 3rem;">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <h4 class="mt-3">Please Wait</h4>
                                <p>Your security scan is in progress. This may take several minutes.</p>
                                <p class="text-muted small">Do not close this window until the scan is complete.</p>
                            </div>
                            
                            <div class="progress-container">
                                <div class="progress-step">
                                    <h5><i class="bi bi-1-circle me-2"></i> Network Discovery</h5>
                                    <div class="progress-bar-container">
                                        <div class="progress-fill" id="progress1" style="width: 0%;">0%</div>
                                    </div>
                                    <p class="progress-step-status" id="status1">Pending...</p>
                                </div>
                                
                                <div class="progress-step">
                                    <h5><i class="bi bi-2-circle me-2"></i> Vulnerability Scanning</h5>
                                    <div class="progress-bar-container">
                                        <div class="progress-fill" id="progress2" style="width: 0%;">0%</div>
                                    </div>
                                    <p class="progress-step-status" id="status2">Pending...</p>
                                </div>
                                
                                <div class="progress-step">
                                    <h5><i class="bi bi-3-circle me-2"></i> Threat Assessment</h5>
                                    <div class="progress-bar-container">
                                        <div class="progress-fill" id="progress3" style="width: 0%;">0%</div>
                                    </div>
                                    <p class="progress-step-status" id="status3">Pending...</p>
                                </div>
                                
                                <div class="progress-step">
                                    <h5><i class="bi bi-4-circle me-2"></i> Report Generation</h5>
                                    <div class="progress-bar-container">
                                        <div class="progress-fill" id="progress4" style="width: 0%;">0%</div>
                                    </div>
                                    <p class="progress-step-status" id="status4">Pending...</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Scan Complete (initially hidden) -->
                        <div id="scanComplete" style="display: none;">
                            <div class="text-center py-5">
                                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                                    <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                                </svg>
                                
                                <h3 class="mt-4">Scan Complete!</h3>
                                <p class="mb-4">Your security assessment has been successfully completed.</p>
                                
                                <div class="alert alert-success mb-4">
                                    <i class="bi bi-envelope-check me-2"></i>
                                    A detailed report has been sent to your email address.
                                </div>
                                
                                <a href="/results" class="btn btn-primary btn-lg">
                                    <i class="bi bi-file-earmark-text me-2"></i> View Detailed Results
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- What We Scan Section -->
<div class="card mb-4 fade-in">
    <div class="card-header">
        <i class="bi bi-search"></i>
        <h2 class="mb-0">What We Scan & Why It Matters</h2>
    </div>
    <div class="card-body">
        <!-- Critical Threat Landscape -->
        <div class="alert alert-danger mb-4">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    <strong>The Cost of Being Vulnerable:</strong>
                    <p class="mb-1">The average data breach costs businesses $4.45 million globally. 95% of successful cyber attacks exploit known vulnerabilities that could have been prevented.</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="bg-white rounded p-3">
                        <div class="fs-2 fw-bold text-danger">$4.45M</div>
                        <div class="small text-muted">Average breach cost</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Industry Impact Stats -->
        <div class="row mb-4">
            <div class="col-md-4 text-center mb-3">
                <div class="card border-warning">
                    <div class="card-body py-3">
                        <i class="bi bi-clock text-warning fs-1 mb-2"></i>
                        <h4 class="text-warning mb-1">277 Days</h4>
                        <p class="mb-0 small">Average time to identify a breach</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 text-center mb-3">
                <div class="card border-danger">
                    <div class="card-body py-3">
                        <i class="bi bi-shield-x text-danger fs-1 mb-2"></i>
                        <h4 class="text-danger mb-1">43%</h4>
                        <p class="mb-0 small">Of attacks target small businesses</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 text-center mb-3">
                <div class="card border-success">
                    <div class="card-body py-3">
                        <i class="bi bi-shield-check text-success fs-1 mb-2"></i>
                        <h4 class="text-success mb-1">80%</h4>
                        <p class="mb-0 small">Of breaches are preventable</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="alert alert-success mb-4">
            <i class="bi bi-info-circle-fill me-2"></i>
            <strong>Your Proactive Defense Strategy:</strong>
            <p class="mb-0">Our comprehensive security scan examines your organization's digital footprint across all major vulnerability areas, helping you identify and fix security gaps before attackers exploit them.</p>
        </div>
        
        <div class="row">
            <!-- Network Security -->
            <div class="col-lg-6 mb-4">
                <div class="card h-100 finding">
                    <div class="card-header bg-light">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center">
                                <div class="icon-circle me-3">
                                    <i class="bi bi-hdd-network"></i>
                                </div>
                                <h4 class="mb-0">Network Security</h4>
                            </div>
                            <span class="badge bg-danger">74% of breaches</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning py-2 mb-3">
                            <small><i class="bi bi-exclamation-triangle me-2"></i><strong>Risk:</strong> Network vulnerabilities are the entry point for 74% of successful breaches</small>
                        </div>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>Open Port Detection</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Exposed ports are like unlocked doors - we find them before attackers do. <span class="text-danger fw-bold">Each open port increases breach risk by 23%.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>Gateway Security Analysis</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Misconfigured gateways allow lateral movement within networks. <span class="text-danger fw-bold">85% of major breaches involve lateral movement.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>Firewall Configuration Check</strong>
                        </div>
                        <p class="text-muted small ms-4">Weak firewall rules let attackers bypass perimeter defenses. <span class="text-danger fw-bold">Proper firewall config reduces risk by 60%.</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Web Security -->
            <div class="col-lg-6 mb-4">
                <div class="card h-100 finding">
                    <div class="card-header bg-light">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center">
                                <div class="icon-circle me-3">
                                    <i class="bi bi-globe"></i>
                                </div>
                                <h4 class="mb-0">Web Security</h4>
                            </div>
                            <span class="badge bg-danger">39% of attacks</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning py-2 mb-3">
                            <small><i class="bi bi-exclamation-triangle me-2"></i><strong>Risk:</strong> Web applications are targeted in 39% of cyber attacks, with average costs of $3.86M per breach</small>
                        </div>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>SSL/TLS Certificate Analysis</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Weak encryption exposes data in transit. <span class="text-danger fw-bold">67% of companies have expired or weak certificates.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>Security Headers Assessment</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Missing security headers enable XSS and injection attacks. <span class="text-danger fw-bold">Only 15% of websites implement proper headers.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>CMS Vulnerability Detection</strong>
                        </div>
                        <p class="text-muted small ms-4">Outdated CMS platforms are hacker favorites. <span class="text-danger fw-bold">90% of WordPress sites have vulnerable plugins.</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Email Security -->
            <div class="col-lg-6 mb-4">
                <div class="card h-100 finding">
                    <div class="card-header bg-light">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center">
                                <div class="icon-circle me-3">
                                    <i class="bi bi-envelope"></i>
                                </div>
                                <h4 class="mb-0">Email Security</h4>
                            </div>
                            <span class="badge bg-danger">91% phishing</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning py-2 mb-3">
                            <small><i class="bi bi-exclamation-triangle me-2"></i><strong>Risk:</strong> 91% of cyber attacks start with phishing emails. Business email compromise costs average $5.01M</small>
                        </div>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>SPF Record Verification</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Prevents email spoofing attacks that damage your reputation. <span class="text-danger fw-bold">87% of companies lack proper SPF records.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>DKIM Implementation Check</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Cryptographic signatures prevent email tampering. <span class="text-danger fw-bold">Only 45% of domains use DKIM properly.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>DMARC Policy Analysis</strong>
                        </div>
                        <p class="text-muted small ms-4">Blocks fraudulent emails claiming to be from your domain. <span class="text-danger fw-bold">DMARC reduces phishing by 90%.</span></p>
                    </div>
                </div>
            </div>
            
            <!-- System Security -->
            <div class="col-lg-6 mb-4">
                <div class="card h-100 finding">
                    <div class="card-header bg-light">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center">
                                <div class="icon-circle me-3">
                                    <i class="bi bi-shield-lock"></i>
                                </div>
                                <h4 class="mb-0">System Security</h4>
                            </div>
                            <span class="badge bg-danger">60% unpatched</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning py-2 mb-3">
                            <small><i class="bi bi-exclamation-triangle me-2"></i><strong>Risk:</strong> 60% of breaches involve unpatched vulnerabilities. System compromises average $4.88M in damages</small>
                        </div>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>OS Update Verification</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Unpatched systems are prime targets for attackers. <span class="text-danger fw-bold">86% of vulnerabilities have patches available for 180+ days.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>Firewall Status Check</strong>
                        </div>
                        <p class="text-muted small ms-4 mb-3">Inactive firewalls leave systems exposed to direct attacks. <span class="text-danger fw-bold">Proper firewalls block 75% of attack attempts.</span></p>
                        
                        <div class="d-flex align-items-center mb-2">
                            <span class="status-indicator status-good me-2"></span>
                            <strong>Security Policy Analysis</strong>
                        </div>
                        <p class="text-muted small ms-4">Weak security policies enable privilege escalation attacks. <span class="text-danger fw-bold">Misconfiguration causes 23% of breaches.</span></p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Advanced Scan Options -->
        <div class="card mt-3">
            <div class="card-header bg-light">
                <h4 class="mb-0"><i class="bi bi-gear-fill me-2"></i>Advanced Scan Options</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="d-flex mb-3">
                            <div class="me-3">
                                <span class="badge rounded-pill bg-primary"><i class="bi bi-search"></i></span>
                            </div>
                            <div>
                                <h5 class="mb-1">Deep Content Analysis</h5>
                                <p class="text-muted small mb-0">Scans for sensitive content exposure, insecure error messages, and information leakage.</p>
                            </div>
                        </div>
                        
                        <div class="d-flex mb-3">
                            <div class="me-3">
                                <span class="badge rounded-pill bg-primary"><i class="bi bi-database"></i></span>
                            </div>
                            <div>
                                <h5 class="mb-1">DNS Security Analysis</h5>
                                <p class="text-muted small mb-0">Examines DNS records for misconfigurations and security vulnerabilities.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="d-flex mb-3">
                            <div class="me-3">
                                <span class="badge rounded-pill bg-primary"><i class="bi bi-plugin"></i></span>
                            </div>
                            <div>
                                <h5 class="mb-1">Plugin & Extension Audit</h5>
                                <p class="text-muted small mb-0">Identifies outdated or vulnerable plugins that could compromise your security.</p>
                            </div>
                        </div>
                        
                        <div class="d-flex mb-3">
                            <div class="me-3">
                                <span class="badge rounded-pill bg-primary"><i class="bi bi-card-checklist"></i></span>
                            </div>
                            <div>
                                <h5 class="mb-1">Compliance Check</h5>
                                <p class="text-muted small mb-0">Evaluates your security posture against industry standards and regulations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Industry Benchmark -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-light">
                        <h4 class="mb-0"><i class="bi bi-graph-up me-2"></i>Industry Benchmarking</h4>
                    </div>
                    <div class="card-body">
                        <p>Our scan compares your security posture against industry benchmarks, helping you understand how your organization measures up to peers in:</p>
                        
                        <div class="row mt-3">
                            <div class="col-md-3 col-6 text-center mb-3">
                                <div class="p-3 rounded bg-light">
                                    <i class="bi bi-hospital text-primary fs-3 mb-2"></i>
                                    <div>Healthcare</div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 text-center mb-3">
                                <div class="p-3 rounded bg-light">
                                    <i class="bi bi-bank text-primary fs-3 mb-2"></i>
                                    <div>Financial Services</div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 text-center mb-3">
                                <div class="p-3 rounded bg-light">
                                    <i class="bi bi-shop text-primary fs-3 mb-2"></i>
                                    <div>Retail</div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 text-center mb-3">
                                <div class="p-3 rounded bg-light">
                                    <i class="bi bi-building text-primary fs-3 mb-2"></i>
                                    <div>Manufacturing</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Real-World Impact Section -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card border-primary">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="bi bi-exclamation-triangle-fill me-2"></i>Why Every Business Needs This Assessment</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5 class="text-danger"><i class="bi bi-graph-down me-2"></i>The Cost of Inaction</h5>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="bi bi-x-circle text-danger me-2"></i><strong>Financial Impact:</strong> Small businesses lose an average of $200,000 per cyber attack</li>
                                    <li class="mb-2"><i class="bi bi-x-circle text-danger me-2"></i><strong>Downtime Cost:</strong> IT outages cost businesses $5,600 per minute</li>
                                    <li class="mb-2"><i class="bi bi-x-circle text-danger me-2"></i><strong>Reputation Damage:</strong> 83% of customers won't do business with breached companies</li>
                                    <li class="mb-2"><i class="bi bi-x-circle text-danger me-2"></i><strong>Business Closure:</strong> 60% of small businesses close within 6 months of a cyber attack</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5 class="text-success"><i class="bi bi-shield-check me-2"></i>The Value of Prevention</h5>
                                <ul class="list-unstyled">
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>Early Detection:</strong> Finding vulnerabilities before attackers saves 95% of breach costs</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>Compliance Benefits:</strong> Proactive security helps meet regulatory requirements</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>Customer Trust:</strong> Security-conscious businesses gain 47% more customer trust</li>
                                    <li class="mb-2"><i class="bi bi-check-circle text-success me-2"></i><strong>Insurance Savings:</strong> Security assessments can reduce cyber insurance premiums by 20-40%</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="alert alert-info mt-3">
                            <div class="row align-items-center">
                                <div class="col-md-8">
                                    <i class="bi bi-lightbulb me-2"></i>
                                    <strong>Smart Investment:</strong> Security assessments typically cost 0.1% of what a breach would cost your business
                                </div>
                                <div class="col-md-4 text-center">
                                    <div class="bg-white rounded p-2">
                                        <div class="fw-bold text-primary">10x - 100x ROI</div>
                                        <div class="small text-muted">Prevention vs. Recovery</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Start Scan Button -->
        <div class="text-center mt-4">
            <a href="/scan" class="btn btn-primary btn-lg pulse-animation">
                <i class="bi bi-shield-check me-2"></i>Start Your Security Scan Now
            </a>
            <p class="text-muted mt-2">Comprehensive assessment takes approximately 5-10 minutes</p>
            <p class="small text-success"><i class="bi bi-lock-fill me-1"></i>100% Secure & Confidential | <i class="bi bi-envelope-check me-1"></i>Results Sent Directly to You</p>
        </div>
    </div>
</div>
    
    <!-- Privacy Policy Modal -->
    <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h4>Information Collection and Usage</h4>
                    <p>We collect the information you provide in this form solely for the purpose of conducting the security scan you have requested and delivering the results to you. We may also use this information to follow up with you about the scan results or to offer related security services.</p>
                    
                    <h4>Data Security</h4>
                    <p>All information is transmitted securely and stored in encrypted format. We implement appropriate data collection, storage, and processing practices and security measures to protect against unauthorized access, alteration, disclosure, or destruction of your personal information.</p>
                    
                    <h4>Third-Party Disclosure</h4>
                    <p>We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties. This does not include trusted third parties who assist us in operating our website, conducting our business, or servicing you, so long as those parties agree to keep this information confidential.</p>
                    
                    <h4>Contact Information</h4>
                    <p>If you have any questions about this privacy policy or our handling of your data, please contact us at privacy@cengatech.com.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="mb-0">&copy; 2025 Central Georgia Technology. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-0">Need help? Call 470-481-0400</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // This is the complete function for setting up form steps
        function setupFormSteps() {
            const steps = ['step1', 'step2', 'step3', 'step4'];
            const bullets = ['step1-bullet', 'step2-bullet', 'step3-bullet', 'step4-bullet'];
            
            // Next button handlers
            document.getElementById('step1Next').addEventListener('click', function() {
                // Validate required fields in step 1
                const name = document.getElementById('name');
                const company = document.getElementById('company');
                const email = document.getElementById('email');
                const privacyConsent = document.getElementById('privacy-consent');
                
                if (!name.value || !company.value || !email.value || !privacyConsent.checked) {
                    alert('Please fill in all required fields and accept the privacy policy.');
                    return;
                }
                
                // Move to step 2
                switchStep(0, 1);
            });
            
            document.getElementById('step2Next').addEventListener('click', function() {
                // Validate required fields in step 2
                const industry = document.getElementById('industry');
                const companySize = document.getElementById('company-size');
                const companyWebsite = document.getElementById('company-website');
                
                if (!industry.value || !companySize.value || !companyWebsite.value) {
                    alert('Please fill in all required fields.');
                    return;
                }
                
                // Move to step 3
                switchStep(1, 2);
            });
            
            document.getElementById('step3Next').addEventListener('click', function() {
                // At least one scan option should be selected
                const scanOptions = document.querySelectorAll('input[name="scan_options[]"]:checked');
                if (scanOptions.length === 0) {
                    alert('Please select at least one scan option.');
                    return;
                }
                
                // Move to step 4
                switchStep(2, 3);
                
                // Update summary
                updateSummary();
            });
            
            // Previous button handlers
            document.getElementById('step2Prev').addEventListener('click', function() {
                switchStep(1, 0);
            });
            
            document.getElementById('step3Prev').addEventListener('click', function() {
                switchStep(2, 1);
            });
            
            document.getElementById('step4Prev').addEventListener('click', function() {
                switchStep(3, 2);
            });
            
            // Function to switch between steps
            function switchStep(currentIndex, nextIndex) {
                // Hide current step
                document.getElementById(steps[currentIndex]).classList.remove('active');
                
                // Show next step
                document.getElementById(steps[nextIndex]).classList.add('active');
                
                // Update bullets
                for (let i = 0; i < bullets.length; i++) {
                    const bullet = document.getElementById(bullets[i]);
                    
                    if (i < nextIndex) {
                        // Previous steps
                        bullet.classList.remove('active');
                        bullet.classList.add('completed');
                        bullet.innerHTML = '<i class="bi bi-check"></i>';
                    } else if (i === nextIndex) {
                        // Current step
                        bullet.classList.add('active');
                        bullet.classList.remove('completed');
                        bullet.innerHTML = i + 1;
                    } else {
                        // Future steps
                        bullet.classList.remove('active');
                        bullet.classList.remove('completed');
                        bullet.innerHTML = i + 1;
                    }
                }
                
                // Scroll to top of form
                document.querySelector('.card').scrollIntoView({ behavior: 'smooth' });
            }
            
            // Function to update the summary in step 4
            function updateSummary() {
                document.getElementById('summary-name').textContent = document.getElementById('name').value;
                document.getElementById('summary-company').textContent = document.getElementById('company').value;
                document.getElementById('summary-website').textContent = 'https://' + document.getElementById('company-website').value;
                document.getElementById('summary-email').textContent = document.getElementById('email').value;
                
                // Get selected scan options
                const scanOptions = [];
                document.querySelectorAll('input[name="scan_options[]"]:checked').forEach(option => {
                    switch (option.value) {
                        case 'network':
                            scanOptions.push('Network Vulnerabilities');
                            break;
                        case 'web':
                            scanOptions.push('Web Application Vulnerabilities');
                            break;
                        case 'ssl':
                            scanOptions.push('SSL/TLS Configuration');
                            break;
                        case 'dns':
                            scanOptions.push('DNS Security Issues');
                            break;
                    }
                });
                
                document.getElementById('summary-scans').textContent = scanOptions.join(', ');
            }
        }
        
        // Submit form with actual server processing
        function setupFormSubmission() {
            const scanForm = document.getElementById('scanForm');
            const scanProgress = document.getElementById('scanProgress');
            const scanComplete = document.getElementById('scanComplete');
            
            scanForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Check terms consent
                if (!document.getElementById('terms-consent').checked) {
                    alert('Please accept the terms to proceed with the scan.');
                    return;
                }
                
                // Hide form, show progress
                this.style.display = 'none';
                scanProgress.style.display = 'block';
                
                // Scroll to top of progress
                scanProgress.scrollIntoView({ behavior: 'smooth' });
                
                // Simulate scan progress
                simulateScanProgress();
                
                // After progress animation completes, submit the form to server
                setTimeout(() => {
                    // Create FormData from the form
                    const formData = new FormData(this);
                    
                    // Add client info
                    formData.append('client_os', navigator.platform || 'Unknown');
                    formData.append('client_browser', navigator.userAgent || 'Unknown');
                    
                    // Set headers to indicate this is an AJAX request
                    const headers = {
                        'X-Requested-With': 'XMLHttpRequest',
                        'Accept': 'application/json'
                    };
                    
                    // Submit the form to the server
                    fetch('/scan', {
                        method: 'POST',
                        headers: headers,
                        body: formData
                    })
                    .then(response => {
                        // Handle server response
                        scanProgress.style.display = 'none';
                        
                        if (response.redirected) {
                            // Server is redirecting us - follow the redirect
                            window.location.href = response.url;
                        } else {
                            // Process JSON response
                            return response.json().then(data => {
                                if (data && data.status === 'success' && data.scan_id) {
                                    // Show completion message
                                    scanComplete.style.display = 'block';
                                    
                                    // Update the results button with correct scan_id
                                    const viewResultsBtn = document.querySelector('#scanComplete a.btn');
                                    viewResultsBtn.href = `/results?scan_id=${data.scan_id}`;
                                } else {
                                    // Show error
                                    throw new Error(data.message || 'Unknown error occurred');
                                }
                            });
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('An error occurred while processing your scan: ' + error.message);
                        // Reset the form view
                        scanProgress.style.display = 'none';
                        scanForm.style.display = 'block';
                    });
                }, 14000); // This matches the total time of all progress animations
            });
        }
        
        
        // Initialize fade-in effects
        function initFadeEffects() {
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, 100 * index);
            });
            
            // Check for error messages in URL
            const urlParams = new URLSearchParams(window.location.search);
            const errorMessage = urlParams.get('error');
            if (errorMessage) {
                // Create error alert
                const errorAlert = document.createElement('div');
                errorAlert.className = 'alert alert-danger mb-4';
                errorAlert.innerHTML = `<i class="bi bi-exclamation-triangle-fill me-2"></i>${errorMessage}`;
                
                // Insert at the top of the card body
                const cardBody = document.querySelector('.card-body');
                cardBody.insertBefore(errorAlert, cardBody.firstChild);
                
                // Auto-dismiss after 8 seconds
                setTimeout(() => {
                    errorAlert.style.opacity = '0';
                    setTimeout(() => errorAlert.remove(), 500);
                }, 8000);
                
                // Clear the error from URL
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }
        
        // Function to simulate scan progress
        function simulateScanProgress() {
            // Network Discovery (0-100% over 3 seconds)
            updateProgress('progress1', 'status1', 0, 100, 'In progress...', 'Complete!', 3000);
            
            // Vulnerability Scanning (starts after network discovery)
            setTimeout(() => {
                updateProgress('progress2', 'status2', 0, 100, 'In progress...', 'Complete!', 4000);
            }, 3000);
            
            // Threat Assessment (starts after vulnerability scanning)
            setTimeout(() => {
                updateProgress('progress3', 'status3', 0, 100, 'In progress...', 'Complete!', 3500);
            }, 7000);
            
            // Report Generation (starts after threat assessment)
            setTimeout(() => {
                updateProgress('progress4', 'status4', 0, 100, 'In progress...', 'Complete!', 3000);
            }, 10500);
        }
        
        // Function to update progress bar
        function updateProgress(progressId, statusId, start, end, inProgressText, completeText, duration) {
            const progressBar = document.getElementById(progressId);
            const statusEl = document.getElementById(statusId);
            let current = start;
            const increment = (end - start) / (duration / 50); // Update every 50ms
            
            statusEl.textContent = inProgressText;
            statusEl.className = 'progress-step-status status-in-progress';
            
            const interval = setInterval(() => {
                current += increment;
                
                if (current >= end) {
                    current = end;
                    clearInterval(interval);
                    statusEl.textContent = completeText;
                    statusEl.className = 'progress-step-status status-complete';
                }
                
                progressBar.style.width = current + '%';
                progressBar.textContent = Math.round(current) + '%';
            }, 50);
        }
        
        // Main init function that runs when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize
            initFadeEffects();
            
            // Form step navigation
            setupFormSteps();
            
            // Form submission and scan progress
            setupFormSubmission();
        });
    </script>
</body>
</html>                
